import{A as K,B as z,C as I,D as C,E as x,r as J,G as $,H as B,I as Y,J as q,K as Q,g as L,L as m,u as U,M as X}from"./D2e-0rb3.js";function Z(e){return Y()?(q(e),!0):!1}const ee=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const te=Object.prototype.toString,ne=e=>te.call(e)==="[object Object]",re=()=>{};function oe(...e){if(e.length!==1)return x(...e);const n=e[0];return typeof n=="function"?I($(()=>({get:n,set:re}))):J(n)}function ie(e,n){function t(...o){return new Promise((a,f)=>{Promise.resolve(e(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(a).catch(f)})}return t}const V=e=>e();function ae(e=V,n={}){const{initialState:t="active"}=n,o=oe(t==="active");function a(){o.value=!1}function f(){o.value=!0}const v=(...i)=>{o.value&&e(...i)};return{isActive:I(o),pause:a,resume:f,eventFilter:v}}function R(e){return Array.isArray(e)?e:[e]}function ue(e){return B()}function se(e,n,t={}){const{eventFilter:o=V,...a}=t;return C(e,ie(o,n),a)}function le(e,n,t={}){const{eventFilter:o,initialState:a="active",...f}=t,{eventFilter:v,pause:i,resume:u,isActive:s}=ae(o,{initialState:a});return{stop:se(e,n,{...f,eventFilter:v}),pause:i,resume:u,isActive:s}}function ce(e,n=!0,t){ue()?K(e,t):n?e():z(e)}function fe(e,n,t){return C(e,n,{...t,immediate:!0})}const F=ee?window:void 0;function pe(e){var n;const t=m(e);return(n=t==null?void 0:t.$el)!=null?n:t}function D(...e){const n=[],t=()=>{n.forEach(i=>i()),n.length=0},o=(i,u,s,p)=>(i.addEventListener(u,s,p),()=>i.removeEventListener(u,s,p)),a=L(()=>{const i=R(m(e[0])).filter(u=>u!=null);return i.every(u=>typeof u!="string")?i:void 0}),f=fe(()=>{var i,u;return[(u=(i=a.value)==null?void 0:i.map(s=>pe(s)))!=null?u:[F].filter(s=>s!=null),R(m(a.value?e[1]:e[0])),R(U(a.value?e[2]:e[1])),m(a.value?e[3]:e[2])]},([i,u,s,p])=>{if(t(),!(i!=null&&i.length)||!(u!=null&&u.length)||!(s!=null&&s.length))return;const y=ne(p)?{...p}:p;n.push(...i.flatMap(N=>u.flatMap(h=>s.map(O=>o(N,h,O,y)))))},{flush:"post"}),v=()=>{f(),t()};return Z(t),v}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A="__vueuse_ssr_handlers__",de=ve();function ve(){return A in E||(E[A]=E[A]||{}),E[A]}function ye(e,n){return de[e]||n}function Se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},M="vueuse-storage";function me(e,n,t,o={}){var a;const{flush:f="pre",deep:v=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:s=!1,shallow:p,window:y=F,eventFilter:N,onError:h=r=>{console.error(r)},initOnMounted:O}=o,S=(p?Q:J)(typeof n=="function"?n():n),d=L(()=>m(e));if(!t)try{t=ye("getDefaultStorage",()=>{var r;return(r=F)==null?void 0:r.localStorage})()}catch(r){h(r)}if(!t)return S;const g=m(n),T=Se(g),w=(a=o.serializer)!=null?a:ge[T],{pause:_,resume:W}=le(S,()=>G(S.value),{flush:f,deep:v,eventFilter:N});C(d,()=>b(),{flush:f}),y&&i&&ce(()=>{t instanceof Storage?D(y,"storage",b,{passive:!0}):D(y,M,H),O&&b()}),O||b();function j(r,l){if(y){const c={key:d.value,oldValue:r,newValue:l,storageArea:t};y.dispatchEvent(t instanceof Storage?new StorageEvent("storage",c):new CustomEvent(M,{detail:c}))}}function G(r){try{const l=t.getItem(d.value);if(r==null)j(l,null),t.removeItem(d.value);else{const c=w.write(r);l!==c&&(t.setItem(d.value,c),j(l,c))}}catch(l){h(l)}}function P(r){const l=r?r.newValue:t.getItem(d.value);if(l==null)return u&&g!=null&&t.setItem(d.value,w.write(g)),g;if(!r&&s){const c=w.read(l);return typeof s=="function"?s(c,g):T==="object"&&!Array.isArray(c)?{...g,...c}:c}else return typeof l!="string"?l:w.read(l)}function b(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){S.value=g;return}if(!(r&&r.key!==d.value)){_();try{(r==null?void 0:r.newValue)!==w.write(S.value)&&(S.value=P(r))}catch(l){h(l)}finally{r?z(W):W()}}}}function H(r){b(r.detail)}return S}const k="savedRecipes";me("recipes",[]);function we(){const e=J([]),n=()=>{const o=localStorage.getItem(k);e.value=o?JSON.parse(o):[]},t=o=>{e.value.includes(o)?e.value=e.value.filter(a=>a!==o):e.value.push(o),localStorage.setItem(k,JSON.stringify(e.value))};return X(n),{savedRecipes:e,toggleSaveRecipe:t}}export{we as u};
